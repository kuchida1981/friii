## 追加される要件

### 要件: 複式簿記エンジン
システムは複式簿記をサポートしなければならない。全ての仕訳において、借方の合計額と貸方の合計額が一致することを保証すること。

#### シナリオ: 貸借が一致する有効な仕訳
- **WHEN** ユーザーが借方合計と貸方合計が一致する仕訳を送信したとき
- **THEN** システムはその取引を受け入れ、記録しなければならない

#### シナリオ: 貸借が一致しない無効な仕訳
- **WHEN** ユーザーが借方合計と貸方合計が一致しない仕訳を送信したとき
- **THEN** システムはその取引を拒否し、エラーメッセージを表示しなければならない

### 要件: 仕訳管理
システムは、取引日、説明、および複数の行（勘定科目と金額のセット）からなる仕訳の作成を許可しなければならない。

#### シナリオ: 単純な仕訳の作成
- **WHEN** ユーザーが有効な日付、説明、1つの借方行、および1つの貸方行を入力したとき
- **THEN** システムは仕訳を新しいレコードとして保存しなければならない

### 要件: 年度末繰越
システムは、会計年度を締め切り、恒久勘定（資産、負債、純資産）の残高を翌年度に繰り越す機能を提供しなければならない。

#### シナリオ: 年度末締め処理の実行
- **WHEN** ユーザーが特定の会計年度の年度末締め処理を実行したとき
- **THEN** システムは当期純利益を計算して繰越利益剰余金に振り替え、翌年度の開始残高を作成しなければならない
