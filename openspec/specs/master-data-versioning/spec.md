## Purpose
勘定科目や取引先などのマスターデータに対し、有効期間による世代管理を行うことで、過去の取引データの再現性と整合性を確保する。

## Requirements

### Requirement: マスターデータの世代管理
システムは、勘定科目、取引先、カテゴリマスタの各レコードについて、有効期間（`valid_from`, `valid_to`）を用いて履歴を管理しなければならない (SHALL)。

#### Scenario: 勘定科目名の変更
- **WHEN** 既存の勘定科目の名称を変更する
- **THEN** 旧名称のレコードの `valid_to` を更新し、新名称のレコードを新しい `valid_from` で作成する

### Requirement: カテゴリによる属性強制
システムは、勘定科目を登録する際、必ずカテゴリマスタを参照し、そのカテゴリに定義された貸借属性（Normal Side）および集計先（BS/PL）を継承させなければならない (SHALL)。

#### Scenario: 資産カテゴリの科目の登録
- **WHEN** 「流動資産」カテゴリに属する新しい科目を登録する
- **THEN** その科目は自動的に「借方」を通常残高とし、「貸借対照表（BS）」に集計される設定となる
